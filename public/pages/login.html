<!doctype html>

<html>

<head>


 <meta>
        <link rel="stylesheet" type="text/css" href="../css/style-signup-signin-sell.css">
        <title> PropertyPro LITE</title>
        <link rel="icon" type="image/ico" href="../image/bar-icon.png" />
        

<body>



  <a class="sell" href="sell.html"><img src="../image/header.png" height="80px" width="200px"></a>



<div class="topnav">


  <a href="../index.html"><strong>HOME </strong></a>

   <!-- <a class="register" href="sell.html"><strong>SELL A PROPERTY</strong></a> -->


<div class="login-container">
    <form action="post">

      <a   class="active" href="login.html">Sign In </a>
      <a  href="sign_up.html">Sign up</a>
    </form>
  </div>
</div>

    <div class="login">
        <div class="login-screen">
            <div class="app-title">
                <h1>Sign In</h1>
            </div>


            <form action="/api/v1/login" method="POST" id="formLogin">
               <div class="login-form">
                  <div class="control-group">
                     <input type="text" class="login-field" value="" placeholder="username" name="email" id="login-name">
                     <label class="login-field-icon fui-user" for="login-name"></label>
                </div>

                <div class="control-group">
                   <input type="password" class="login-field" value="" placeholder="password" name="password" id="login-pass">
                  <label class="login-field-icon fui-lock" for="login-pass"></label>
                </div>

               <input type="submit" class="submit-btn">   
                
            </form>
            <div class="incorrect"> </div>
                <a class="login-link" href="#">Lost your password?</a> <p>or</p><a class="login-link" href="./sign_up.html">Register</a>
            </div>
        </div>
    </div>

    <div id="footer">
&copy; 2019  Designed by BYAMUNGU desire || Andela Developer Challenge
 </div> 

</body>

<script type="text/javascript">

   document.addEventListener('DOMContentLoaded', ()=>{ 

const form = document.getElementById('formLogin');

  form.addEventListener('submit', fetchLogin);

      function  fetchLogin() {                
         fetch('http://localhost:3000/api/v1/login')
          .then((resp) =>resp.json())
          .then((data) => renderMsg(data))
          console.log(data)
        }
        
        function renderMsg(data){
          const incorrect = document.getElementsByClassName('incorrect');          
          incorrect.className = 'err';
          incorrect.innerHTML = data.message;
          console.log(data.message)

        }

    fetchLogin();

      })
</script>

</html>
